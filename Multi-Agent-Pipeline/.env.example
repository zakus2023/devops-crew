# Copy to .env and fill in. Do not commit .env.

# Production base URL (no /health) - required
PROD_URL=https://app.my-iifb.click

# AWS region (optional; default us-east-1)
AWS_REGION=us-east-1

# Repo root = path to CICD-With-AI (optional; when in crew-DevOps, default is CICD-With-AI in this repo)
REPO_ROOT=C:/My-Projects/crew-DevOps/Full-Orchestrator/output

# App root = path to app directory for Docker build (optional). When set, build uses this instead of REPO_ROOT/app.
# When crew-DevOps/app exists, run.py auto-uses it. Override with e.g. APP_ROOT=C:/My-Projects/crew-DevOps/app
# APP_ROOT=

# Set to 1 to allow Terraform apply (default: plan only)
ALLOW_TERRAFORM_APPLY=1

# ------------------------------------------------------------------------------
# Deploy method: codedeploy | ansible | ssh_script | ecs
# The deploy agent runs the matching tool based on this value.
# ------------------------------------------------------------------------------
# DEPLOY_METHOD=codedeploy
DEPLOY_METHOD=ansible
# DEPLOY_METHOD=ecs         # requires ECS cluster + service (Terraform outputs ecs_cluster_name, ecs_service_name)

# ------------------------------------------------------------------------------
# ssh_script deploy — step-by-step (beginner)
# 1. Set DEPLOY_METHOD=ssh_script below (uncomment the line).
# 2. Set SSH_KEY_PATH to the full path of your .pem file (same key as EC2 key pair).
# 3. Ensure EC2 instances are tagged Env=prod (or Env=dev).
# 4. If instances are in private subnets: enable bastion in Terraform (enable_bastion=true, key_name); leave BASTION_HOST unset to auto-fetch IP.
# 5. Run: python run.py
# ------------------------------------------------------------------------------
# DEPLOY_METHOD=ssh_script

# For ssh_script: path to your EC2 private key (.pem). Use forward slashes; absolute path recommended.
# SSH_KEY_PATH=C:/My-Projects/crew-DevOps/my-key.pem
# Or put the key content here (pipeline writes a temp file); path takes precedence.
# SSH_PRIVATE_KEY=
# SSH_USER=ec2-user   # optional; default ec2-user (Amazon Linux)

# Bastion (only for ssh_script when instances are in private subnets):
# Leave BASTION_HOST unset → pipeline reads bastion_public_ip from Terraform (infra/envs/prod or dev).
# Set BASTION_HOST only to override (e.g. after manual lookup).
# BASTION_HOST=
# BASTION_USER=ec2-user   # optional; default ec2-user

# On Windows, Ansible deploy runs inside WSL by default (avoids WinError 1). Set to 0 to disable.
# ANSIBLE_USE_WSL=1

# Seconds to wait before running Ansible deploy (default 0). Use 90–120 after a fresh Terraform apply so EC2 instances reach "running" and get Env=prod tag.
# ANSIBLE_WAIT_BEFORE_DEPLOY=90

# LLM for CrewAI (required)
OPENAI_API_KEY=sk-your-openai-key-here
